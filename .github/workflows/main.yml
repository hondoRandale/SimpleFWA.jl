name: Documentation
on:
    push:
        branches:
            - 'master'
        tags: '*'
    pull_request:
jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - uses: julia-actions/setup-julia@latest
              with:
                  version: '1.6'
            - name: Install dependencies
              run:
                julia --project=docs -e 'using Pkg; Pkg.develop(PackageSpec(path=pwd())); ;Pkg.instantiate()'
            - name: Build and deploy
              env:
                  GITHUB_TOKEN:   ${{ secrets.GITHUB_TOKEN }}
                  DOCUMENTER_KEY: ${{ secrets.DOCUMENTER_KEY }}
              run: julia --project=docs --color=yes docs/make.jl
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2

      # Runs a single command using the runners shell
      - name: Run a one-line script
        run: echo Hello, world!

      # Runs a set of commands using the runners shell
      - name: Run a multi-line script
        run: |
          echo Add other actions to build,
          echo test, and deploy your project.
